<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RS ART | Premium Studio</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <style>
        :root { --purple: #2D1B4E; --lime: #C6FF00; --magenta: #E91E63; --dark: #0F091A; }
        body { background: var(--dark); color: white; font-family: 'Inter', sans-serif; }
        
        /* Slider 3D Estilo Premium */
        .swiper { width: 100%; padding: 40px 0; }
        .swiper-slide {
            width: 320px; height: 450px; border-radius: 25px;
            overflow: hidden; border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
        }
        .swiper-slide img, .swiper-slide video { width: 100%; height: 100%; object-fit: cover; }

        /* Timbre Flotante Permanente */
        .timbre-btn {
            position: fixed; bottom: 25px; right: 25px;
            width: 70px; height: 70px; background: var(--magenta);
            border-radius: 20px; display: flex; align-items: center;
            justify-content: center; font-size: 28px; z-index: 9999;
            cursor: pointer; box-shadow: 0 0 25px var(--magenta);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(233, 30, 99, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(233, 30, 99, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(233, 30, 99, 0); }
        }

        /* Admin UI */
        .admin-box { background: rgba(255,255,255,0.05); border: 1px dashed var(--lime); display: none; }
        .product-card { background: #1a1425; transition: 0.3s; border-radius: 20px; overflow: hidden; }
        .product-card:hover { transform: translateY(-10px); border: 1px solid var(--lime); }
        
        header { position: sticky; top: 0; z-index: 1000; background: rgba(15,9,26,0.95); border-bottom: 1px solid rgba(255,255,255,0.1); }
    </style>
</head>
<body>

    <header class="p-5">
        <div class="container mx-auto flex justify-between items-center">
            <div class="text-3xl font-black italic">RS <span class="text-[var(--lime)]">ART</span></div>
            <nav class="hidden md:flex gap-6 font-bold text-xs tracking-widest">
                <a href="#" class="hover:text-[var(--lime)]">INICIO</a>
                <a href="#productos" class="hover:text-[var(--lime)]">TIENDA</a>
                <button onclick="accesoAdmin()" class="text-[var(--magenta)]">ADMIN</button>
            </nav>
            <div class="relative cursor-pointer" onclick="abrirCarrito()">
                <i class="fas fa-shopping-bag text-2xl"></i>
                <span id="cart-count" class="absolute -top-2 -right-2 bg-[var(--lime)] text-black text-[10px] font-bold px-2 rounded-full">0</span>
            </div>
        </div>
    </header>

    <!-- Slider 3D AutomÃ¡tico -->
    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><video src="https://assets.mixkit.co/videos/preview/mixkit-mechanical-parts-of-a-printing-press-working-43534-large.mp4" autoplay muted loop></video></div>
            <div class="swiper-slide"><img src="https://images.unsplash.com/photo-1626785774573-4b799315345d?w=600"></div>
            <div class="swiper-slide"><img src="https://images.unsplash.com/photo-1589118949245-7d38baf380d6?w=600"></div>
            <div class="swiper-slide"><img src="https://images.unsplash.com/photo-1513542789411-b6a5d4f31634?w=600"></div>
        </div>
    </div>

    <!-- Panel Administrador -->
    <section id="panelAdmin" class="container mx-auto px-6 py-10 admin-box rounded-3xl mb-10">
        <h2 class="text-2xl font-bold mb-6 text-[var(--lime)]">Panel de GestiÃ³n RS ART</h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <input type="text" id="p-nombre" placeholder="Nombre Producto" class="bg-black/40 p-3 rounded-xl border border-white/10 outline-none">
            <input type="number" id="p-precio" placeholder="Precio ($)" class="bg-black/40 p-3 rounded-xl border border-white/10 outline-none">
            <input type="text" id="p-img" placeholder="Link Imagen (URL)" class="bg-black/40 p-3 rounded-xl border border-white/10 outline-none">
            <textarea id="p-desc" placeholder="DescripciÃ³n" class="bg-black/40 p-3 rounded-xl border border-white/10 outline-none"></textarea>
        </div>
        <button onclick="crearProducto()" class="mt-4 bg-[var(--lime)] text-black font-bold px-10 py-3 rounded-xl">PUBLICAR AHORA</button>
    </section>

    <!-- CatÃ¡logo -->
    <main class="container mx-auto px-6 py-10">
        <h2 id="productos" class="text-4xl font-black mb-12 italic">NUESTROS <span class="text-[var(--lime)]">PRODUCTOS</span></h2>
        <div id="contenedor-productos" class="grid grid-cols-1 md:grid-cols-3 gap-10">
            <!-- Cargado por JS -->
        </div>
    </main>

    <!-- Timbre -->
    <div class="timbre-btn" onclick="notificarTimbre()">
        <i class="fas fa-bell"></i>
    </div>

    <script>
        // CONFIGURACIÃ“N DE NOTIFICACIONES (Telegram)
        const TG_TOKEN = "TU_TOKEN_DE_TELEGRAM_AQUI"; 
        const TG_CHAT_ID = "TU_ID_DE_CHAT_AQUI";

        // Inicializar Slider AutomÃ¡tico 3D
        var swiper = new Swiper(".mySwiper", {
            effect: "coverflow",
            grabCursor: true,
            centeredSlides: true,
            slidesPerView: "auto",
            loop: true,
            autoplay: { delay: 2500, disableOnInteraction: false },
            coverflowEffect: { rotate: 50, stretch: 0, depth: 100, modifier: 1, slideShadows: true }
        });

        // LÃ³gica de Productos
        let productos = JSON.parse(localStorage.getItem('rs_art_db')) || [
            { nombre: "Folder Corporativo", precio: 25, img: "https://images.unsplash.com/photo-1626785774573-4b799315345d?w=500", desc: "Acabado mate premium" }
        ];
        let carrito = [];

        function render() {
            const container = document.getElementById('contenedor-productos');
            container.innerHTML = '';
            productos.forEach((p, i) => {
                container.innerHTML += `
                    <div class="product-card">
                        <img src="${p.img}" class="w-full h-64 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-bold">${p.nombre}</h3>
                            <p class="text-gray-400 text-sm mt-2">${p.desc}</p>
                            <div class="flex justify-between items-center mt-6">
                                <span class="text-2xl font-black text-[var(--lime)]">$${p.precio}</span>
                                <div class="flex gap-2">
                                    <button onclick="agregarAlCarrito(${i})" class="bg-[var(--magenta)] px-4 py-2 rounded-lg font-bold">AÃ‘ADIR</button>
                                    <button onclick="borrarProducto(${i})" class="admin-only hidden bg-red-600 px-3 py-2 rounded-lg"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>`;
            });
            actualizarAdminUI();
        }

        function crearProducto() {
            const n = document.getElementById('p-nombre').value;
            const p = document.getElementById('p-precio').value;
            const i = document.getElementById('p-img').value;
            const d = document.getElementById('p-desc').value;
            if(!n || !p) return alert("Completa los datos");
            productos.push({ nombre: n, precio: p, img: i, desc: d });
            localStorage.setItem('rs_art_db', JSON.stringify(productos));
            render();
            Swal.fire('Guardado', 'Producto aÃ±adido correctamente', 'success');
        }

        function borrarProducto(i) {
            productos.splice(i, 1);
            localStorage.setItem('rs_art_db', JSON.stringify(productos));
            render();
        }

        function accesoAdmin() {
            Swal.fire({
                title: 'Password Admin',
                input: 'password',
                showCancelButton: true,
                background: '#0F091A', color: '#fff'
            }).then(res => {
                if(res.value === '1234') { // CLAVE POR DEFECTO
                    document.getElementById('panelAdmin').style.display = 'block';
                    sessionStorage.setItem('isAdmin', 'true');
                    actualizarAdminUI();
                }
            });
        }

        function actualizarAdminUI() {
            const admin = sessionStorage.getItem('isAdmin');
            document.querySelectorAll('.admin-only').forEach(el => el.classList.toggle('hidden', !admin));
        }

        // NOTIFICACIONES Y ALARMAS
        async function enviarNotificacion(mensaje) {
            const url = `https://api.telegram.org/bot${TG_TOKEN}/sendMessage?chat_id=${TG_CHAT_ID}&text=${encodeURIComponent(mensaje)}&parse_mode=Markdown`;
            await fetch(url);
        }

        function notificarTimbre() {
            new Audio('https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3').play();
            Swal.fire({
                title: 'Llamando...',
                text: 'El encargado recibirÃ¡ una alerta en su dispositivo.',
                icon: 'warning',
                showConfirmButton: false,
                timer: 2000
            });
            enviarNotificacion("ðŸ”” Â¡ALERTA! Alguien tocÃ³ el TIMBRE en la tienda RS ART. Â¡AtenciÃ³n inmediata necesaria!");
        }

        function agregarAlCarrito(i) {
            carrito.push(productos[i]);
            document.getElementById('cart-count').innerText = carrito.length;
            Swal.fire({ toast: true, position: 'top-end', title: 'AÃ±adido', icon: 'success', showConfirmButton: false, timer: 1000 });
        }

        function abrirCarrito() {
            if(carrito.length === 0) return Swal.fire('Carrito vacÃ­o', '', 'info');
            let lista = carrito.map(p => `- ${p.nombre} ($${p.precio})`).join('\n');
            let total = carrito.reduce((s, p) => s + parseFloat(p.precio), 0);
            
            Swal.fire({
                title: 'Tu Pedido',
                text: lista + `\n\nTOTAL: $${total}`,
                showCancelButton: true,
                confirmButtonText: 'CONFIRMAR COMPRA',
                confirmButtonColor: '#E91E63',
                background: '#0F091A', color: '#fff'
            }).then(res => {
                if(res.isConfirmed) {
                    const msg = `ðŸ›’ NUEVO PEDIDO RS ART:\n${lista}\n\nðŸ’° TOTAL: $${total}`;
                    enviarNotificacion(msg);
                    Swal.fire('Â¡Pedido Enviado!', 'RecibirÃ¡s una respuesta pronto.', 'success');
                    carrito = [];
                    document.getElementById('cart-count').innerText = '0';
                }
            });
        }

        render();
    </script>
</body>
</html>
